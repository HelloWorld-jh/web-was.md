### Browser

컴파일러를 통해 사람의 언어와 기호를 기계어로 해석했듯이 웹을 통해서 전달되는 데이터 또한

어딘가에서 해석되어야 한다.

브라우저에는 데이터를 해석해주는 파서와 데이터를 화면에 표현해주는 렌더링엔진이 포함되어있다

이런 복잡한 작업은 대부분 브라우저 내부에서 이뤄지기 때문에 반드시 알아야 하는 건 아니지만

개발을 하다보면 난해한 문제를 맞닥뜨릴 수 있고,

그 상황에서 개발자를 구원하는 도구로써 또는 애초에 보다 최적화된 웹 개발을 위해 

브라우저 내부의 이해가 필요하다.



브라우저란? 월드와이드웹에서 정보를 검색, 표현하고 탐색하기 위한 소프트웨어라고 한다.

- 인터넷에서 특정 정보로 이동할 수 있는 주소 입력창이 있고 

  서버와 HTTP로 정보를 주고 받을 수 있는 네트워크 모듈도 포함하고 있다

- 서버에서 받은 문서(HTML, CSS, Javascript)를 해석하고 실행하여 화면에 표현하기 위한 Parser라는 

  해석기를 가지고 있다

브라우저 마다 서로 다른 엔진을 가지고 있다.

사파리 브라우저에서 처리되는 webkit랜더링엔진 처리과정을 예로 들어 보겠다

![image-20210708121129027](C:\Users\CJH\AppData\Roaming\Typora\typora-user-images\image-20210708121129027.png)

1. HTML과 CSS문서를 해석하기 위해 각각 파싱과정이 필요하다

   토큰 단위로 해석되는 방식으로써 소스코드의 컴파일 과정이라고 생각하면 된다

2.  해석된 Dom Tree/ CSS Tree는 연관되어 있으므로 Render Tree라는 이름으로 조합한다.

3. 조합된 결과를 화면에 어떻게 배치할지 크기와 위치 정보를 담는 과정을 거친다 Layout

4. 이후 위 과정을 거쳐 구성된 Render Tree 정보를 통해 화면에 어떤 부분에 어떻게 색칠할지 Painting하는

   과정을 거친다.

5. Display - 결과를 화면에 보여준다.



그렇다면, 우리가 흔히 어떤 것을 클릭하면서 화면의 위치를 바꿀 때,

브라우저 내부는 어떻게 다시 동작할까? 단순 작업을 반복하는 것일까?

라는 고민을 생각하면 우리의 뇌는 갑작스럽게 늘어난 복잡도를 감당하지 못하여 거부반응을 일으킬 수 있다.

이를 테면 시험기간엔 공부를 제외한 모든 것이 재밌는 경험과 같다고 할 수 있다.

단지 자세히는 정확히 모르겠지만, 엄청 복잡하지 않을까? 엄청 복잡한 원리가 있구나 정도만 이해하자



이미 브라우저의 내부원리 존재에 대해 인지한 상태에서 계속 웹에 대해 공부를 하다보면

우리의 무의식은 그것의 답을 쫓고 있을 것이고 언젠가 다시 이 문제와 맞닥뜨렸을 때

그동안 우리 뇌에 쌓인 데이터 셋과 기술들을 활용해서 지금 당장보다 더 효율적으로 찾을 수 있을 것이다





###  예시



![](img\wave.gif)

유튜브에서 인터랙티브 디벨로퍼라는 채널을 참고해서 만들어본 html파일이다.



소스코드를 살펴보면 ![](C:\Users\CJH\Downloads\wave.jpg)

- HTML 문서는 html태그로 시작해서 html태그로 끝난다
- head와 body라는 태그로 이루어진 계층적인 구조이다
- HTML은 tag를 사용해서 표현한다
- HTML문서 안에 HTML 태그만이 아니라 ,CSS, Javascript코드가 존재한다.
- CSS는 head태그 안에, Javascript는 body태그 안에 위치한다

라는 사실을 알 수 있다.

css와 javascript코드를 각각 head와 body안에 넣은 이유는 사실 무작정 따라해서 그런 것인데,

렌더링의 개념에서 생각해보면

javascript 코드는 body태그가 닫히기 직전에 위치하는 것이 

렌더링(화면에 어떻게 보여줘야 되는지를 결정)을 방해하지 않고,

css코드는 head태그가 닫히기 직전에 위치할 때  

렌더링 처리시 브라우저가 더 빨리 참고할 수 있도록 도와준다고 한다.

흔하다고 생각했던 이 규약이 사실은 내부적으로 최선의 효율이었던 것이다



브라우저를 열고 다른 인터넷 사이트들을 열 때 개발자 도구를 통해

element 또는 network탭을 보면서 어떻게 실행되고 어떤 코드들이 존재하는지 들여다보면

이해에 도움이 될 것이다

이것은 일반적인 방법이지만 참고로 

defer / async 속성을 사용해서 선언한 곳과 스크립트 실행 시점을 분리하는 방법 도 있다 

참고 https://developer.mozilla.org/ko/docs/Web/HTML/Element/script




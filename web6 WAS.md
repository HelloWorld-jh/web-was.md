###   WAS

###   ![](C:\Users\CJH\Downloads\client.jpg)





계속 나오는 개념들을 상기하면서 복습해보자

"클라이언트는 서비스를 제공하는 서버에게 정보를 요청하여 응답받은 결과를 사용한다"



개발자들은 파일의 데이터를 서버 컴퓨터에 저장하고 읽어들이는 등의 기능을 모두 구현해야 됐다.

하지만 점차 데이터가 누적되어가고, 데이터를 저장하는 도구로써 파일만을 사용하는 과정에서

생산성의 한계에 직면하게 되자 불편함을 느끼게 되고, 해소하기 위해서 DBMS라는 도구를 탄생시킨다.



###  DBMS

<img src="C:\Users\CJH\Downloads\DBMS.png" style="zoom:60%;" />

데이터베이스라는 개념의 시스템이 생겨나자 다수의 사용자들이 데이터베이스 내의 데이터를 접근할 수 있도록

해주는 소프트웨어가 생겨났고 상대적으로 굉장히 쉽게 데이터를 관리할 수 있게 되었다.

비유하자면 메모장을 사용하다가 엑셀을 발견한 심정이라고 할 수 있다.



DBMS는 보통 서버 형태로 서비스를 제공하기 때문에 접속해서 동작할 수 있는 클라이언트 프로그램이

많이 만들어지게 되었다.

그런데 여기에서 클라이언트의 로직이 많아지고 프로그램의 크기가 커진다는 문제점이 생겨서

로직이 변경되면 클라이언트가 매번 배포되어야 한다거나

대부분의 로직이 클라이언트에 포함되어 배포가 되기 때문에 보안이 나쁘다는 문제를 가지고 있었다

하지만 인간은, 문제를 만날 때마다 새로운 도구를 생산하는 놀라운 힘을 가지고 있다

이번엔 미들웨어 라는 것이 등장한다.



###  미들웨어

<img src="C:\Users\CJH\Downloads\middle.png" style="zoom:60%;" />



DBMS에서 여러가지 단점이 있었음을 알게 되어 클라이언트와 DBMS 사이에 또 다른 서버를 두는 방식이다

1. 클라이언트는 단순히 중앙 서버에 요청을 보내고 중앙에 있는 서버가 대부분의 로직을 수행하고

2. 데이터를 조작할 일이 있을때만 DBMS에게 부탁한다.
3. 결과를 클라이언트에게 전송하면 클라이언트가 결과를 화면에 출력

하는 과정을 거쳐서 클라이언트는 복잡한 로직이 사라지고 화면에 결과만 보여주기 때문에

사용자로부터 입력만 받아서 미들웨어에게만 보내는 역할만 수행하면 되게 되고 크기 또한 매우 작아진다

프로그램 로직이 변경 된다하더라도 모든 클라이언트를 다시 배포할 필요없이 

미들웨어만 변경하면 된다는 장점을 가지게 된다.



###  Web Application Server

이러한 혁신의 반복으로 웹이 널리 사용되면서 사용자들의 요구 사항은 점점 커지게 되어

웹에서 정적인 문서만 보는 것에도 만족했던 사람들은

웹에서 데이터를 입력하고 조회하는 등의 동적인 기능에 대한 욕구를 가지게 된다.

이 동적인 기능은 프로그래밍을 통해서 가능한데,

웹 서버에서 프로그래밍 기능이 들어간 CGI라는 방식을 처음에 이용했으나

웹과 프로그래밍 모두 복잡도가 훨씬 늘어난 기능을 요구하게 된다.

앞에서 말한 DBMS와 연관된 경우가 굉장히 많은 기능들이었고, 

브라우저(클라이언트)와 DBMS 사이에 동작하는 미들웨어가 필요해졌다는 것을 앞에서 설명했는데,

이러한 미들웨어를 WAS라고 말한다.

넓게 봐서 was도 미들웨어에 포함된다는 뜻이다.

<img src="C:\Users\CJH\Downloads\was.png" style="zoom:60%;" />



###  WAS의 기능



- 프로그램 실행 환경과 데이터베이스 접속 기능을 제공한다
- 여러 개의 트랜잭션(논리적 작업 단위)을 관리한다
- 비즈니스 로직을 수행한다



###  웹 서버 vs WAS

이 외에도 WAS는 웹 서버의 기능도 기본적으로 제공한다

웹 서버따로 WAS따로 설치하지 않고 WAS에도 웹 서버가 충분한 기능이 내장되어 있기 때문에

예를 들면 굳이 Apache를 설치하지 않고 톰캣만 설치해도 사용할 수 있다는 것이다

- WAS도 보통 자체적으로 웹 서버 기능을 내장하고 있다
- 현재는 WAS가 가지고 있는 웹 서버도 정적인 컨텐츠를 처리하는데 있어 성능상 큰 차이가 없다
- 규모가 커질수록 웹 서버와 WAS를 분리한다. (failover: 장애 극복 기능)



웹 서버가 정적 컨텐츠를 웹 브라우저에게 전송한다면,

WAS는 프로그램의 동적인 결과를 웹 브라우저에게 전송하는 역할을 담당한다

그렇다면 웹 서버는 없어도 되는 것인가?

사실 WAS가 오늘날 많이 발전해서 그 자체만으로 웹 서버의 역할까지 충분히 동작하는 경우가 많지만

웹 서버가 상대적으로 간단한 구조로 만들어져 있기 때문에

사람들이 많이 접속하는 대용량 웹 api의 경우엔 서버의 수가 여러 대일 수 있다

대용량 웹 api는 무중단으로 운영하기 위해서 failover가 상당히 중요한 기능인데, 

이러한 기능 때문에 보통 웹 서버가 WAS앞단에서 동작하도록 하는 경우가 많다



요약하자면

- WAS도 보통 자체적 웹 서버 기능을 내장하고 있다
- 현재는 WAS가 가지고 있는 웹 서버도 정적인 콘텐츠를 처리하는 데 있어서 성능상 큰 차이가 없다
- 규모가 커질수록 웹 서버와 WAS를 분리한다
- 자원 이용의 효율성 및 장애 극복, 배포 및 유지보수의 편의성을 위해 웹서버와 WAS를 대체로 분리한다